{"ast":null,"code":"var _jsxFileName = \"/var/www/html/demo/dkhitweb/src/pages/Detail.js\";\nimport { Outlet, Link } from \"react-router-dom\";\nimport React, { useRef, useState, useEffect, useParams } from 'react';\nimport TopHeader from \"../components/TopHeader\";\nimport Header from \"../components/Header\";\nimport Footer from '../components/Footer';\nimport FooterButton from '../components/FooterButton';\nimport SingleArticle from \"../components/SingleArticles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Detail extends React.Component {\n  constructor(props) {\n    super(props); // Don't call this.setState() here!\n\n    console.log(\"match\", this.props.match); //  let { id } = this.props.params;\n\n    this.state = {\n      article: {}\n    }; //this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    let self = this;\n    let path = window.location.pathname;\n    let pathval = path.split(\"/\");\n    let bookid = parseInt(pathval[2]);\n    let headers;\n\n    if (this.props.token) {\n      headers = {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + this.props.token\n      };\n    }\n\n    console.log(\"bookid\", bookid);\n    axios.post(this.state.apiUrl + \"book/detail\", {\n      book_id: bookid\n    }, {\n      headers: headers\n    }).then(res => {\n      // Set state with result\n      console.log(\"res\", res);\n      console.log(\"pdfurl\", res.data.data.pdf_url);\n      this.setState({\n        pdfUrl: res.data.data.pdf_url\n      });\n    }).catch(function (error) {\n      if (error.response) {\n        if (error.response.status == 401) {\n          self.setState({\n            showAuthfailedModal: true\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TopHeader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(SingleArticle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FooterButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/demo/dkhitweb/src/pages/Detail.js"],"names":["Outlet","Link","React","useRef","useState","useEffect","useParams","TopHeader","Header","Footer","FooterButton","SingleArticle","Detail","Component","constructor","props","console","log","match","state","article","componentDidMount","self","path","window","location","pathname","pathval","split","bookid","parseInt","headers","token","axios","post","apiUrl","book_id","then","res","data","pdf_url","setState","pdfUrl","catch","error","response","status","showAuthfailedModal","render"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,IAAjB,QAA6B,kBAA7B;AACA,OAAOC,KAAP,IAAcC,MAAd,EAAqBC,QAArB,EAA8BC,SAA9B,EAAwCC,SAAxC,QAAwD,OAAxD;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;;;AACA,eAAe,MAAMC,MAAN,SAAqBV,KAAK,CAACW,SAA3B,CAAqC;AAEpDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACX,UAAMA,KAAN,EADW,CAEX;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoB,KAAKF,KAAL,CAAWG,KAA/B,EAHW,CAIX;;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAC;AADC,KAAb,CALW,CAQX;AACH;;AACDC,EAAAA,iBAAiB,GAAE;AAEf,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIC,IAAI,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAA3B;AACA,QAAIC,OAAO,GAAGJ,IAAI,CAACK,KAAL,CAAW,GAAX,CAAd;AACA,QAAIC,MAAM,GAAGC,QAAQ,CAACH,OAAO,CAAC,CAAD,CAAR,CAArB;AAEA,QAAII,OAAJ;;AACA,QAAG,KAAKhB,KAAL,CAAWiB,KAAd,EAAoB;AAClBD,MAAAA,OAAO,GAAG;AACR,wBAAgB,kBADR;AAER,yBAAiB,YAAY,KAAKhB,KAAL,CAAWiB;AAFhC,OAAV;AAID;;AAEDhB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBY,MAArB;AAEAI,IAAAA,KAAK,CAACC,IAAN,CAAW,KAAKf,KAAL,CAAWgB,MAAX,GAAoB,aAA/B,EAA6C;AAACC,MAAAA,OAAO,EAACP;AAAT,KAA7C,EAA8D;AAACE,MAAAA,OAAO,EAACA;AAAT,KAA9D,EACCM,IADD,CACOC,GAAD,IAAS;AACb;AACAtB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBqB,GAAlB;AACCtB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBqB,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcC,OAAnC;AACA,WAAKC,QAAL,CAAc;AACVC,QAAAA,MAAM,EAACJ,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcC;AADX,OAAd;AAIF,KATD,EAUCG,KAVD,CAUO,UAAUC,KAAV,EAAiB;AACtB,UAAIA,KAAK,CAACC,QAAV,EAAoB;AAElB,YAAGD,KAAK,CAACC,QAAN,CAAeC,MAAf,IAAyB,GAA5B,EAAgC;AAC9BxB,UAAAA,IAAI,CAACmB,QAAL,CAAc;AAACM,YAAAA,mBAAmB,EAAC;AAArB,WAAd;AACD;AACF;AACF,KAjBD;AAkBH;;AACDC,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,8BACA;AAAA,gCACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAKI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eASA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cATA;AAAA,oBADJ;AAaH;;AA9D+C","sourcesContent":["import { Outlet, Link } from \"react-router-dom\";\nimport React,{useRef,useState,useEffect,useParams} from 'react';\nimport TopHeader from \"../components/TopHeader\";\nimport Header from \"../components/Header\";\n\nimport Footer from '../components/Footer'\nimport FooterButton from '../components/FooterButton'\nimport SingleArticle from \"../components/SingleArticles\";\nexport default class Detail extends React.Component {\n    \nconstructor(props) {\n        super(props);\n        // Don't call this.setState() here!\n        console.log(\"match\",this.props.match);\n        //  let { id } = this.props.params;\n        this.state = { \n            article:{}\n        };\n        //this.handleClick = this.handleClick.bind(this);\n    }\n    componentDidMount(){\n\n        let self = this;\n        let path = window.location.pathname;\n        let pathval = path.split(\"/\");\n        let bookid = parseInt(pathval[2]);\n\n        let headers;\n        if(this.props.token){\n          headers = {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + this.props.token\n          }\n        }    \n\n        console.log(\"bookid\",bookid);\n\n        axios.post(this.state.apiUrl + \"book/detail\",{book_id:bookid},{headers:headers})\n        .then((res) => {\n          // Set state with result\n          console.log(\"res\",res);\n           console.log(\"pdfurl\",res.data.data.pdf_url);\n           this.setState({\n               pdfUrl:res.data.data.pdf_url\n           })\n            \n        })\n        .catch(function (error) {\n          if (error.response) {\n\n            if(error.response.status == 401){\n              self.setState({showAuthfailedModal:true});              \n            }\n          }\n        });\n    }\n    render(){\n        return(\n            <>\n            <div>\n                <TopHeader/>\n                <Header/>\n                <SingleArticle/>\n                <Footer/>\n                <FooterButton/>\n            </div>\n      \n            <Outlet />\n          </>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}