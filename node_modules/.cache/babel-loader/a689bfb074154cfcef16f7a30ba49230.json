{"ast":null,"code":"var _jsxFileName = \"/var/www/html/demo/dkhitweb/src/components/ArticleList.js\";\nimport { Outlet, Link } from \"react-router-dom\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport Article from \"./Article\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ArticleList extends React.Component {\n  constructor(props) {\n    super(props); // Don't call this.setState() here!\n\n    this.state = {\n      articles: [],\n      name: \"\"\n    }; //this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    let path = window.location.pathname;\n    console.log(window.location);\n    let pathval = path.split(\"/\");\n    console.log(\"pathVal\", pathval);\n    let type = pathval[1];\n    let id;\n    if (type == \"tags\") id = parseInt(pathval[2]);else if (type == \"search\") {\n      const queryString = window.location.search;\n      console.log(queryString);\n      const parameters = new URLSearchParams(queryString);\n      const value = parameters.get('keyword');\n      console.log(\"value\", value);\n    }\n    this.loadData(type, id);\n  }\n\n  loadData(type, id) {\n    console.log(\"type\", type);\n    console.log(\"id\", id);\n    let self = this;\n    let headers;\n    headers = {\n      'Content-Type': 'application/json',\n      'Authorization': process.env.REACT_APP_API_TOKEN\n    };\n    let param = {};\n\n    if (type == \"tags\") {\n      param.tag_id = id;\n    } else if (type == \"search\") {\n      param.keyword = id;\n    }\n\n    console.log(\"param\", param);\n    axios.post(process.env.REACT_APP_API_URL + \"/api/articles\", param, {\n      headers: headers\n    }).then(res => {\n      console.log(\"res\", res.data.articles); // Set state with result\n\n      self.setState({\n        \"articles\": res.data.articles,\n        \"name\": res.data.data.name\n      });\n      console.log(self.state.articles);\n    }).catch(function (error) {\n      if (error.response) {\n        console.error(error);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"cat-news mt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-align-justify\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 29\n              }, this), this.state.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row cn-slider\",\n              children: this.state.articles.map((article, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-3\",\n                children: /*#__PURE__*/_jsxDEV(Article, {\n                  article: article\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/demo/dkhitweb/src/components/ArticleList.js"],"names":["Outlet","Link","React","useRef","useState","useEffect","axios","Article","ArticleList","Component","constructor","props","state","articles","name","componentDidMount","path","window","location","pathname","console","log","pathval","split","type","id","parseInt","queryString","search","parameters","URLSearchParams","value","get","loadData","self","headers","process","env","REACT_APP_API_TOKEN","param","tag_id","keyword","post","REACT_APP_API_URL","then","res","data","setState","catch","error","response","render","map","article","index"],"mappings":"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","sourcesContent":["import { Outlet, Link } from \"react-router-dom\";\nimport React,{useRef,useState,useEffect} from 'react';\nimport axios from \"axios\";\nimport Article from \"./Article\";\n\nexport default class ArticleList extends React.Component {\n    constructor(props) {\n    super(props);\n    // Don't call this.setState() here!\n        this.state = { \n            articles:[],\n            name:\"\",\n        };\n    //this.handleClick = this.handleClick.bind(this);\n    }\n    \n    componentDidMount(){\n        let path = window.location.pathname;\n        console.log(window.location);\n\n        let pathval = path.split(\"/\");\n        console.log(\"pathVal\",pathval);\n        let type = pathval[1];\n        let id;\n        if(type == \"tags\")\n            id = parseInt(pathval[2]);\n            \n        else if(type == \"search\"){\n\n            const queryString = window. location. search;\n            console.log(queryString);\n\n            const parameters = new URLSearchParams(queryString);\n            const value = parameters. get('keyword');\n            console.log(\"value\",value);\n\n        }\n     \n        this.loadData(type,id);\n    }\n\n    loadData(type,id){\n\n        console.log(\"type\",type);\n        console.log(\"id\",id);\n\n        let self = this;\n        let headers;\n        headers = {\n\n        'Content-Type': 'application/json',\n        'Authorization': process.env.REACT_APP_API_TOKEN\n\n        }\n        \n        let param = {};\n        if(type == \"tags\"){\n            param.tag_id = id;\n\n        }else if(type == \"search\"){\n            param.keyword = id;\n        }\n\n        console.log(\"param\",param);\n\n        axios.post(process.env.REACT_APP_API_URL + \"/api/articles\",param,{headers:headers})\n        .then((res) => {\n            console.log(\"res\",res.data.articles);\n            // Set state with result\n            self.setState(\n            {\n                \"articles\":res.data.articles,\n                \"name\":res.data.data.name\n            });\n\n            console.log(self.state.articles);\n\n        })\n        .catch(function (error) {\n          if (error.response) {\n            console.error(error);\n          }\n        });\n        \n    }\n    render(){\n        return(\n            <div class=\"cat-news mt-3\">\n            <div class=\"container-fluid\">\n                <div class=\"row\">\n                    <div class=\"col-md-12\">\n                        <h2><i class=\"fas fa-align-justify\"></i>{this.state.name}</h2>\n                        <div class=\"row cn-slider\">\n\n                            { this.state.articles.map((article, index) => (\n                                <div class=\"col-md-3\">\n                                    <Article article={article}/>\n                                </div>\n                            ))}\n\n                        </div>\n                    </div>\n            \n                </div>\n            </div>\n        </div>\n        )\n    }\n}    \n"]},"metadata":{},"sourceType":"module"}